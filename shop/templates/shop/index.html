{% extends 'shop/basic.html' %}
{% load static %}
{% block styles %}
  <link rel="stylesheet" href="{% static 'shop/index.css' %}">
{% endblock %}

{% block title %} ELACART - India's NO. 1 Shopping Site {% endblock %}
{% block body %}

  <div class="container my-4">
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img class="d-block w-100" src="/media/shop/images/ad1.jpg" alt="First slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" src="/media/shop/images/ad2.jpg" alt="Second slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" src="/media/shop/images/ad3.jpg" alt="Third slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" src="/media/shop/images/ad4.jpg" alt="Third slide">
        </div>
        <div class="carousel-item">
          <img class="d-block w-100" src="/media/shop/images/ad5.jpg" alt="Third slide">
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"  style="margin-top: -200px; margin-left: -100px"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"  style="margin-top: -200px;  margin-right: -100px"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <div class="container" style="margin-top: -250px;">
    {% for product,num_slides,range in allProds %}
      <div id="demo{{forloop.counter}}" class="carousel slide py-3 pr-3" data-ride="carousel" style="background-color:#343a40!important;">
        <h1 class="mx-4 mt-3" style="font-size: 20px; color: whitesmoke; font-family: 'Arvo';">{{product.0.category}}</h1>
        <!--Carousel Indicators-->
        <ul class="carousel-indicators">
          <li data-target="#demo{{forloop.counter}}" data-slide-to="0" class="active"></li>
          {% for i in range %}
            <li data-target="#demo{{forloop.parentloop.counter}}" data-slide-to="{{i}}"></li>
          {% endfor %}
        </ul>

        <!--Carousel Slide Show-->
        <div class="container carousel-inner no-padding">
          <div class="carousel-item active">
            
            <div class="col-xs-3 col sm-3 col-md-3">
              <div class="card" style="width: 18rem;">
                <img id="imagepr{{product.0.id}}" src='/media/{{product.0.image}}' class="card-img-top mt-2 ml-5" alt="...">
                <div class="card-body py-3">
                  <h5 id="namepr{{product.0.id}}" class="card-title">{{product.0.product_name}}</h5>
                  <p id="descpr{{product.0.id}}" class="card-text">{{product.0.product_desc|slice:"0:66"}}...</p>
                  <div class="patc">
                    <p id="pricepr{{product.0.id}}" class="card-text price"><i class="fas fa-rupee-sign"></i> <b>&nbsp;&nbsp;{{product.0.price}}</b></p>
                    <div class="atcbuttonouter" id="atcpr{{product.0.id}}">
                      <button class="btn btn-primary atcbutton ml-5" id="pr{{product.0.id}}">Add to cart</button>
                    </div>
                  </div>              
                </div>
              </div>
            </div>
            {% for prod in product|slice:"1:" %}            
              <div class="col-xs-3 col sm-3 col-md-3">
                <div class="card" style="width: 18rem;">
                  <img id="imagepr{{prod.id}}" src='/media/{{prod.image}}' class="card-img-top mt-2 ml-5" alt="...">
                  <div class="card-body">
                    <h5 id="namepr{{prod.id}}" class="card-title">{{prod.product_name}}</h5>
                    <p id="descpr{{prod.id}}" class="card-text">{{prod.product_desc|slice:"0:66"}}...</p>
                    <div class="patc">
                      <p id="pricepr{{prod.id}}" class="card-text price"><i class="fas fa-rupee-sign"></i> <b>&nbsp;&nbsp;{{prod.price}}</b></p>
                      <div class="atcbuttonouter" id="atcpr{{prod.id}}">
                        <button class="btn btn-primary atcbutton ml-5" id="pr{{prod.id}}">Add to cart</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              {% if forloop.counter|add:1|divisibleby:4 and forloop.counter > 0 and not forloop.last%}
          </div><div class="carousel-item">
              {% endif %}
            {% endfor %}
          </div>
        </div>
            

      

        <!--Left and right sliders-->
        <a class="carousel-control-prev ccp" href="#demo{{forloop.counter}}" data-slide="prev">
          <span class="carousel-control-prev-icon ccpi"></span>
        </a>
        <a class="carousel-control-next ccn" href="#demo{{forloop.counter}}" data-slide="next">
          <span class="carousel-control-next-icon ccni"></span>
        </a>
      </div>
    {% endfor %}
  </div>

{% endblock %}


{% block JS %}
  <script src="{% static 'shop/index.js' %}"></script>
{% endblock %}
